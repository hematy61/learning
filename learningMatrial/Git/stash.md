# Stash

In Git, a stash is a way to temporarily save your current changes without committing them. It allows you to set aside your modifications, including both tracked and untracked files, and revert your working directory to the last committed state. Stashing is useful when you need to switch to a different branch or work on a different task without committing your changes.
When you create a stash, Git saves the changes as a separate stash object, which includes the state of both modified and untracked files. The stash object is stored in a stack-like structure, and each stash is assigned a unique identifier.

## Stashing Changes

To stash your current changes, you can use the `git stash` command. By default, running `git stash` is equivalent to running `git stash push`.

### Tracked Changes

Stashes can be created using the `git stash` command. By default, running `git stash` without any options will stash only the modified files, **excluding untracked files**.

```bash
git stash
Saved working directory and index state WIP on 
[branch name]: [last commit hash] [last commit message] 
```

### Untracked Changes

To stash untracked files as well, you can use the `-u` or --include-untracked option. Untracked files are files that are not tracked by Git, which means they have not been added to the staging area or committed to the repository.

```bash
git stash --include-untracked # or -u
```

Note that the `-u` option will not stash ignored files. Ignored files are files that are not tracked by Git and are not included in the repository. They are usually files that are generated by the build process or contain sensitive information such as passwords or API keys. To stash ignored files, you can use the `-a` or `--all` option.

### All Changes

To stash all changes, including tracked, untracked, and ignored files, you can use the `-a` or `--all` option.

```bash
git stash --all # or -a
```

It's important to note that when using `git stash -a`, the stash may become quite large if there are many untracked or ignored files. Therefore, it's generally recommended to carefully consider the necessity of stashing all changes, especially when it comes to untracked or ignored files, as it might introduce unnecessary complexity to your stash stack.

### Stash Message

To add a message to the stash, you can use the `-m` or `--message` option. This option allows you to add a custom message to the stash, which can be useful for identifying the stash later on.

```bash
git stash -m "Feature A in progress"
git stash -u -m "Feature B in progress"
```

### Stash Selected Files or Folders

To stash only selected files or folders, you can specify the files or folders as arguments to the `git stash push` command. This allows you to stash only the files or folders that you want to stash.

```bash
git stash push file1 file2 folder1
```

It is possible to combine it with other options, such as `--include-untracked`, `--all` or `-m`.

```bash
git stash push file1 file2 folder1 -u -m "Feature B in progress"
```

### Viewing Stashes

To view the list of stashes, you can use the `git stash list` command. Each stash entry is listed with its name (e.g. `stash@{0}` is the latest entry, `stash@{1}` is the one before, etc.)

```bash
git stash list
stash@{0}: WIP on [branch name]: [last commit hash] [last commit message]
stash@{1}: WIP on submit: 6ebd0e2... second commit
stash@{2}: On master: 9cc0589... initial commit
```

## Applying Stashes

To apply a stash(apply means to use the stashed changes), you can use the `git stash apply` or `git stash pop` command. Both git `stash apply` and `git stash pop` allow you to apply stashed changes to your working directory. The difference is that git `stash apply` keeps the applied stash in the stash stack, while `git stash pop` removes the applied stash from the stash stack.

### `git stash apply`

To apply a stash, you can use the `git stash apply` command. By default, `git stash apply` will apply the latest stash, which is equivalent to running `git stash apply stash@{0}`.

```bash
git stash apply
```

To apply a specific stash, you can specify the stash name as an argument.

```bash
# let's say we have a few named and unnamed stashes
git stash list
stash@{0}: On branch-name: Feature A in progress
stash@{1}: On branch-name: Bug fix for issue #456
stash@{2}: On branch-name: Experiment changes
stash@{3}: WIP on submit: 6ebd0e2... second commit
stash@{4}: On master: 9cc0589... initial commit

# to apply the stash at stash@{2}
git stash apply stash@{2}
# or just the index
git stash apply 2
# or just the name
git stash apply "Experiment changes"
```

### `git stash pop`

The git stash pop command is used to apply and drop the most recent stash from the stash stack. It combines two actions into one: applying the changes from the stash and removing it from the stash stack.
`git stash pop` pops the latest stash, which is equivalent to running `git stash pop stash@{0}`.

```bash
git stash pop # or git stash pop stash@{0}
```

To pop a specific stash, you can specify the stash name as an argument.

```bash
# let's say we have a few named and unnamed stashes
git stash list
stash@{0}: On branch-name: Feature A in progress
stash@{1}: On branch-name: Bug fix for issue #456
stash@{2}: On branch-name: Experiment changes
stash@{3}: WIP on submit: 6ebd0e2... second commit
stash@{4}: On master: 9cc0589... initial commit

# to pop the stash at stash@{2}
git stash pop stash@{2}
# or just the index
git stash pop 2
# or just the name
git stash pop "Experiment changes"
```

## Clearing Stashes

To clear stashes, you can use the `git stash clear` command. This command removes all stashes from the stash stack.

```bash
git stash clear
```

## Dropping Stashes

`git stash drop` is a command in Git that is used to remove a specific stash from the stash stack. When you run `git stash` command, it saves your current changes into a stash, allowing you to switch to another branch without committing your changes. You can run `git stash list` to see all the stashes you have saved.

To remove a specific stash, you can use git stash drop followed by the name of the stash. By default, git stash drop removes the latest stash, which is equivalent to running `git stash drop stash@{0}`.

```bash
# let's say we have a few named and unnamed stashes
git stash list
stash@{0}: On branch-name: Feature A in progress
stash@{1}: On branch-name: Bug fix for issue #456
stash@{2}: On branch-name: Experiment changes
stash@{3}: WIP on submit: 6ebd0e2... second commit
stash@{4}: On master: 9cc0589... initial commit

# to drop the stash at stash@{2}
git stash drop stash@{2}
# or just the index
git stash drop 2
# or just the name
git stash drop "Experiment changes"
```

If you want to remove all stashes in the stack, you can use the git stash clear command.
